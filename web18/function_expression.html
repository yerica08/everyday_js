<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>함수표현식</title>
  </head>
  <body>
    <script>
      /*
        함수표현식
        ===========================
        일반 함수 정의문의 경우 함수명을 선언하고 그 이름을 사용해서 호출한다.
        이 방법은 함수이름만 알고 있으면 어디서나 함수를 실행할 수 있어서 많이 사용한다.
        이 밖에 함수이름을 지정하지 않고 사용하거나, 함수를 호출하지 않고 바로 실행하는
        함수도 있다. 함수 중 익명함수나 즉시실행함수를 모두 함수 표현식이라고 한다.

        익명함수
        ============================
        익명함수는 이름이 없는 함수를 말한다. 즉, 익명함수를 선언할때에는 이름을 붙이지
        않는다.

        [기본형]
        let 변수명 = function(){
          자바스크립트 코드;
        }

        변수명();


        즉시 실행 함수
        ==========================
        일반적으로 함수는 선언하고 필요할때마다 호출해서 실행하는 방법을 많이 사용한다.
        하지만 한 번만 실행하는 함수라면 함수를 정의하면서 동시에 실행할 수 있다.
        바로 즉시 실행 함수를 이용하면 된다.
        즉시 실행 함수는 함수를 실행하는 순간에 자바스크립트 해석기에서 함수를 해석한다.

        [기본형]
        (function(매개변수){
          자바스크립트 코드;
        })(인수);
      */

      //sum(1, 2);
      //=> var로 만들어진 변수의 경우 type에러가 발생. sum은 변수로서 undefined를 참조하고 있음.
      //=> let으로 만들어진 변수의 경우 Uncaught ReferenceError가 발생. sum이라는 변수는 선언된 적이 없다는 오류발생.

      //변수 sum은 익명함수를 참조하고 있다.
      let sum = function (a, b) {
        document.write(a + b, '<br/>');
      };

      //익명함수는 변수명으로 호출한다.
      sum(2, 3);
      sum(4, 2);
      sum(6, 5);

      //즉시실행함수
      //let name = prompt('이름을 입력해주세요.');
      let name = '김땡땡';

      (function (userName) {
        document.write('안녕하세요. 제 이름은 ' + userName + '입니다.');
      })(name);

      //두 수를 더하는 즉시 실행 함수를 만들어주세요.
      (function (a, b) {
        document.write(a + b, '<br/>');
      })(1, 2);

      /*
        즉시 실행함수로 지역함수를 안전하게 보관하면서 함수를 실행시키는 방법

        아래 예시를 보면 개발자 A,B모두 동일한 이름의 변수와 함수를 선언했다.
        하지만 각각 즉시 실행함수로 감싸놓았기 때문에 각 변수와 함수는
        즉시실행 함수 안의 블록 스코프(유효범위)를 가진다.
        즉, 개발자 A함수에 있는 num과 menu()는 개발자 B가 선언한 num과
        menu()와 각각 다른 함수와 변수로 취급된다.
        그렇기 때문에 변수나 함수의 충돌 없이 함수가 정상 실행된다.
      */

      //개발자 A의 함수
      (function () {
        let num = 100;
        function menu() {
          num += 100;
          document.write(num, '<br/>');
        }
        menu();
      })();

      //개발자 B의 함수
      (function () {
        let num = 100;
        function menu() {
          num -= 50;
          document.write(num, '<br/>');
        }
        menu();
      })();
    </script>
  </body>
</html>
